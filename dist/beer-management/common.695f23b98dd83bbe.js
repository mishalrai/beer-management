"use strict";(self.webpackChunkbeer_management=self.webpackChunkbeer_management||[]).push([[592],{8182:(f,g,o)=>{o.d(g,{_:()=>p});var i=o(9862),S=o(5619),v=o(8180),m=o(5592),n=o(5879);let y=(()=>{class r{constructor(){}setItem(e,t){localStorage.setItem(e,JSON.stringify(t))}getItem(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var s=(()=>((s=s||{}).Page="page",s.PerPage="per_page",s))();const c="my-beers";let p=(()=>{class r{constructor(e,t){this.http=e,this.localStorage=t,this.myBeersSub=new S.X([]),this.myBeers$=this.myBeersSub.asObservable(),this.baserUrl="https://api.punkapi.com/v2/beers"}getAll(e=1,t=6){const a=(new i.LE).set(s.Page,e).set(s.PerPage,t);return this.http.get(this.baserUrl,{params:a}).pipe((0,v.q)(1))}save(e){return new m.y(t=>{try{const a=[e,...this.myBeersSub.value];this.localStorage.setItem(c,a),this.myBeersSub.next(a),t.next(e)}catch(a){t.error(a)}})}getMyAll(){try{const e=this.localStorage.getItem(c);e?.length&&this.myBeersSub.next(e)}catch{console.log("Failed to fetch beers")}return this.myBeers$}delete(e){return new m.y(t=>{try{let a;const h=this.myBeersSub.value.filter(u=>u.id!==e||(a=u,!1));this.localStorage.setItem(c,h),this.myBeersSub.next(h),t.next(a)}catch(a){t.error(a)}})}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(i.eN),n.LFG(y))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);