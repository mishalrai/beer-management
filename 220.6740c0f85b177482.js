"use strict";(self.webpackChunkbeer_management=self.webpackChunkbeer_management||[]).push([[220],{2220:(b,c,s)=>{s.r(c),s.d(c,{AllBeersModule:()=>x});var a=s(6814),u=s(594),i=s(2494),e=s(5879),g=s(8182);function h(t,l){if(1&t&&e._UZ(0,"ui-loader",2),2&t){const n=e.oxw();e.Q6J("text",n.loaderText)}}function m(t,l){if(1&t&&(e.TgZ(0,"div",11),e._UZ(1,"ui-card",12),e.qZA()),2&t){const n=l.$implicit;e.xp6(1),e.Q6J("item",n)}}function d(t,l){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ui-card-list",4),e.YNc(2,m,2,1,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(4,"div",6)(5,"ui-button",7),e.NdJ("onClicked",function(){e.CHM(n);const r=e.oxw(2);return e.KtG(r.loadMore())}),e._uU(6," Load more "),e.TgZ(7,"span",8),e.O4$(),e.TgZ(8,"svg",9),e._UZ(9,"path",10),e.qZA()()()(),e.BQk()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("items",n.allBeers)("className","row"),e.xp6(4),e.Q6J("disabled",n.isFetchingMore)}}function p(t,l){1&t&&e._UZ(0,"ui-no-data")}function f(t,l){if(1&t&&(e.YNc(0,d,10,3,"ng-container",3),e.YNc(1,p,1,0,"ui-no-data",3)),2&t){const n=e.oxw();e.Q6J("ngIf",!n.isFetching&&(null==n.allBeers?null:n.allBeers.length)),e.xp6(1),e.Q6J("ngIf",!(n.isFetching||null!=n.allBeers&&n.allBeers.length))}}const B=[{path:"",component:(()=>{class t{constructor(n,o){this.beerService=n,this.toastService=o,this.allBeers=[],this.currentPage=1,this.loaderText="Fetching Beers...",this.isFetching=!1,this.isFetchingMore=!1}ngOnInit(){this.isFetching=!0,this.fetchBeers()}fetchBeers(){this.beerService.getAll(this.currentPage).subscribe({next:n=>{if(n.length){const o=n.map(r=>{const{id:A,name:C,image_url:F,tagline:v,description:M,ingredients:T}=r;return{id:A,name:C,image_url:F,tagline:v,description:M,tooltipText:`Ingredients: ${Object.keys(T).join(",")}`}});this.allBeers=[...this.allBeers,...o]}1===this.currentPage&&(this.isFetching=!1),this.isFetchingMore=!1},error:n=>{1===this.currentPage&&(this.isFetching=!1),this.isFetchingMore=!1,this.toastService.show({body:"Apologies, we encountered an issue while fetching the beers. Please try again later.",type:i.pC.Error})}})}loadMore(){this.isFetchingMore=!0,this.currentPage++,this.fetchBeers()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g._),e.Y36(i.kl))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-all-beers"]],decls:3,vars:2,consts:[[3,"text",4,"ngIf","ngIfElse"],["beerList",""],[3,"text"],[4,"ngIf"],[3,"items","className"],["card",""],[1,"text-center","my-4"],[1,"ui-button-text","primary",3,"disabled","onClicked"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"ml-2"],["fill-rule","evenodd","d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"],[1,"col-lg-6"],[3,"item"]],template:function(n,o){if(1&n&&(e.YNc(0,h,1,1,"ui-loader",0),e.YNc(1,f,2,2,"ng-template",null,1,e.W1O)),2&n){const r=e.MAs(2);e.Q6J("ngIf",o.isFetching)("ngIfElse",r)}},dependencies:[a.O5,i.Ak,i.Do,i.r0,i.RW,i.dq]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(B),u.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,i.dT,i.hJ,_,i.q,i.dF]}),t})()}}]);